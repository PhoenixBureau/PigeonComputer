

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pigeon.xerblin.library &mdash; Pigeon Computer 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/theme_extras.js"></script>
    <link rel="top" title="Pigeon Computer 0.1 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../../../index.html">
          <span>Pigeon Computer 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>pigeon.xerblin.library</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../../../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <h1>Source code for pigeon.xerblin.library</h1><div class="highlight"><pre>
<span class="c"># Library</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Library of Words</span>
<span class="sd">=================================</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">from</span> <span class="nn">pickle</span> <span class="kn">import</span> <span class="n">dumps</span><span class="p">,</span> <span class="n">loads</span>
<span class="kn">from</span> <span class="nn">pigeon.xerblin.base</span> <span class="kn">import</span> <span class="n">handle_sequence</span><span class="p">,</span> <span class="n">handle_loop</span><span class="p">,</span> <span class="n">handle_branch</span>
<span class="kn">from</span> <span class="nn">pigeon.xerblin.btree</span> <span class="kn">import</span> <span class="n">get</span><span class="p">,</span> <span class="n">insert</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">fill_tree</span>
<span class="kn">from</span> <span class="nn">pigeon.xerblin.stack</span> <span class="kn">import</span> <span class="n">pop</span><span class="p">,</span> <span class="n">push</span><span class="p">,</span> <span class="n">pick_</span><span class="p">,</span> <span class="n">iterStack</span>


<span class="c"># Mark the current namespace contents.</span>
<span class="n">_existing</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">())</span>
<span class="n">_existing</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;_existing&#39;</span><span class="p">)</span>


<span class="c"># Stack chatter.</span>

<div class="viewcode-block" id="dup"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.dup">[docs]</a><span class="k">def</span> <span class="nf">dup</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &quot;Duplicate&quot; the top item on the stack.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="swap"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.swap">[docs]</a><span class="k">def</span> <span class="nf">swap</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Reverse the order of the top two items on the stack.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">TOS</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">TOS</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="pick"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.pick">[docs]</a><span class="k">def</span> <span class="nf">pick</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Takes a number from the stack, counts back that many items (starting</span>
<span class="sd">    from zero for the top item) and puts a &quot;duplicate&quot; of the item found</span>
<span class="sd">    on the top of the stack. (So pick with 0 on the stack is thte same as</span>
<span class="sd">    the command &quot;dup&quot;.)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">TOS</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">stack</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">pick_</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">TOS</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="tuck"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.tuck">[docs]</a><span class="k">def</span> <span class="nf">tuck</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Put a &quot;duplicate&quot; of the item on the top of the stack just under the</span>
<span class="sd">    second item on the stack. (I.e. top, second, top.)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">TOS</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">TOS</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">TOS</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="drop"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.drop">[docs]</a><span class="k">def</span> <span class="nf">drop</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Remove the item on the top of the stack and discard it.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="over"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.over">[docs]</a><span class="k">def</span> <span class="nf">over</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Put a &quot;duplicate&quot; of the second item down in the stack on the top of</span>
<span class="sd">    the stack. (I.e. second, top, second.)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">second</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>


<span class="c"># Programming words.</span>
</div>
<div class="viewcode-block" id="lookup"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.lookup">[docs]</a><span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">interpreter</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Given a name on the top of the stack, look up the named command in</span>
<span class="sd">    the dictionary and put it on the stack in place of the name.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span> <span class="o">=</span> <span class="n">interpreter</span>
    <span class="n">word</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="inscribe"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.inscribe">[docs]</a><span class="k">def</span> <span class="nf">inscribe</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Given a name string on the top of the stack and a &quot;combo&quot; command</span>
<span class="sd">    underneath it (see NewSeqWord, NewLoopWord, and NewBranchWord for how</span>
<span class="sd">    to make combo commands) &quot;inscribe&quot; the combo command into the</span>
<span class="sd">    dictionary under that name, replacing any previous command of that</span>
<span class="sd">    name.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">name</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="NewSeqWord"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.NewSeqWord">[docs]</a><span class="k">def</span> <span class="nf">NewSeqWord</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This command takes all the items on the stack and puts them into a</span>
<span class="sd">    tuple with the Sequence Handler function in front of them.</span>

<span class="sd">    The items on the stack should all be commands from the dictionary,</span>
<span class="sd">    either functions or combo commands.  You get these by using the</span>
<span class="sd">    &quot;lookup&quot; command on the names of the functions you want.</span>

<span class="sd">    Put the first command to run on the stack first, then the second, and</span>
<span class="sd">    so on, so that the last item to run is on the top of the stack when</span>
<span class="sd">    you run this command.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">words</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">iterStack</span><span class="p">(</span><span class="n">stack</span><span class="p">))))</span>
    <span class="n">seq</span> <span class="o">=</span> <span class="p">(</span><span class="n">handle_sequence</span><span class="p">,)</span> <span class="o">+</span> <span class="n">words</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="p">()),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="NewLoopWord"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.NewLoopWord">[docs]</a><span class="k">def</span> <span class="nf">NewLoopWord</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This command takes all the items on the stack and puts them into a</span>
<span class="sd">    tuple with the Loop Handler function in front of them.</span>

<span class="sd">    A Loop consumes the top item on the stack, then depending on it&#39;s</span>
<span class="sd">    &quot;truth&quot; either runs the commands in its tuple and repeats if it&#39;s</span>
<span class="sd">    true or stops looping altogether if it&#39;s false.</span>

<span class="sd">    Put the first command to run on the stack first, then the second, and</span>
<span class="sd">    so on, so that the last item to run is on the top of the stack when</span>
<span class="sd">    you run this command.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">words</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">iterStack</span><span class="p">(</span><span class="n">stack</span><span class="p">))))</span>
    <span class="n">loop</span> <span class="o">=</span> <span class="p">(</span><span class="n">handle_loop</span><span class="p">,)</span> <span class="o">+</span> <span class="n">words</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">loop</span><span class="p">,</span> <span class="p">()),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="NewBranchWord"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.NewBranchWord">[docs]</a><span class="k">def</span> <span class="nf">NewBranchWord</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Create a new Branch command word.  A branch consumes the top item on</span>
<span class="sd">    the stack and does one of two things depending on its &quot;truth&quot; value.</span>
<span class="sd">    Unlike Loops and Sequences which use all the items on the stack,</span>
<span class="sd">    Branch commands only take the top two items. The item on the top of</span>
<span class="sd">    the stack should be a function to use in case of &quot;true&quot; and the</span>
<span class="sd">    second should be a function to use for &quot;false&quot;.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">branch</span> <span class="o">=</span> <span class="p">(</span><span class="n">handle_branch</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">)</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">branch</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>


<span class="c"># Math words.</span>
</div>
<div class="viewcode-block" id="add"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.add">[docs]</a><span class="k">def</span> <span class="nf">add</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add the top two items on the stack and replace them with the sum.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="sub"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.sub">[docs]</a><span class="k">def</span> <span class="nf">sub</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Replace the top two items on the stack with the result of subtracting</span>
<span class="sd">    the top item from the second item.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="mul"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.mul">[docs]</a><span class="k">def</span> <span class="nf">mul</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Replace the top two items on the stack with the result of multiplying</span>
<span class="sd">    them together.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">stack</span> <span class="o">=</span> <span class="n">pop</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>


<span class="c"># Pickling words.</span>
</div>
<div class="viewcode-block" id="pickle"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.pickle">[docs]</a><span class="k">def</span> <span class="nf">pickle</span><span class="p">(</span><span class="n">interpreter</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Convert the current interpreter to a portable text format (called a</span>
<span class="sd">    &quot;pickle&quot;.)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span> <span class="o">=</span> <span class="n">interpreter</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">dumps</span><span class="p">(</span><span class="n">interpreter</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">stack</span><span class="p">),</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="unpickle"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.unpickle">[docs]</a><span class="k">def</span> <span class="nf">unpickle</span><span class="p">(</span><span class="n">interpreter</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Take a string &quot;pickle&quot; portable text representation of an interpreter</span>
<span class="sd">    and replace the current interpreter with it.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">interpreter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">loads</span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>


<span class="c"># System words</span>
</div>
<div class="viewcode-block" id="rebalance"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.rebalance">[docs]</a><span class="k">def</span> <span class="nf">rebalance</span><span class="p">((</span><span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This &quot;rebalances&quot; a dictionary.  It makes it more efficient to access</span>
<span class="sd">    commands in the dictionary if you&#39;ve added a lot of new ones.</span>

<span class="sd">    It&#39;s a good idea to use this command before creating a pickle to</span>
<span class="sd">    save so that the saved pickle&#39;s dictionary is already balanced.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="n">fill_tree</span><span class="p">((),</span> <span class="n">items</span><span class="p">(</span><span class="n">dictionary</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">,</span> <span class="n">dictionary</span>

</div>
<div class="viewcode-block" id="view"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.view">[docs]</a><span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">interpreter</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Pretty print the interpreter to stdout.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span> <span class="k">as</span> <span class="n">p</span>
    <span class="n">p</span><span class="p">(</span><span class="n">interpreter</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">interpreter</span>

</div>
<div class="viewcode-block" id="listwords"><a class="viewcode-back" href="../../../user_interface.html#pigeon.xerblin.library.listwords">[docs]</a><span class="k">def</span> <span class="nf">listwords</span><span class="p">(</span><span class="n">interpreter</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Print the list of words in the dictionary to stdout.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="n">interpreter</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">items</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">name</span>
    <span class="k">print</span>
    <span class="k">return</span> <span class="n">interpreter</span>


<span class="c"># Now extract all the library functions we just defined.</span></div>
<span class="n">_word_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">())</span> <span class="o">-</span> <span class="n">_existing</span>


<span class="c"># Pull words from this list.</span>
<span class="n">words</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">function</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">function</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_word_names</span>
    <span class="p">]</span>
</pre></div>

      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Simon Forman.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>